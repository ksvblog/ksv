<script>
  if (localStorage.getItem("color-theme") === "dark" || (!("color-theme" in localStorage) && window.matchMedia("(prefers-color-scheme: dark)").matches)) {
    document.documentElement.classList.add("dark");
  } else {
    document.documentElement.classList.remove("dark");
  }
</script>
{{ $site := resources.Get "js/site.js" }}
<script src="{{ $site.Permalink }}"></script>
{{ $search := resources.Get "js/search.js" }}
<script src="{{ $search.Permalink }}"></script>
{{ $speedlify := resources.Get "js/speedlify-score.js" }}
<script src="{{ $speedlify.Permalink }}"></script>
{{ if .Params.katex }}{{ partial "misc/katex" . }}{{ end }}
{{ $fa := resources.Get "fontawesome/js/fontawesome.js" }}
{{ $brands := resources.Get "fontawesome/js/brands.js" }}
{{ $regular := resources.Get "fontawesome/js/regular.js" }}
{{ $fontawesome := slice $fa $brands $regular | resources.Concat "js/fa.js" }}
<script src="{{ $fontawesome.Permalink }}"></script>
